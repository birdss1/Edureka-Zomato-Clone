(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,s){},38:function(e,t,s){},48:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},93:function(e,t,s){},94:function(e,t,s){},95:function(e,t,s){},96:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(39),c=s.n(n),i=s(7),r=s(8),o=s(3),l=s(4),d=s(6),u=s(5),j=(s(48),s(0)),h=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).handleLogout=function(){a.setState({userData:""}),sessionStorage.removeItem("ltk"),sessionStorage.removeItem("userData")},a.conditionalLogin=function(){if(a.state.userData.name){var e=a.state.userData,t=[e.name,e.email,e.phone,e.role];return sessionStorage.setItem("userData",t),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h4",{id:"userName",children:["Hi ",a.state.userData.name]}),Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("button",{id:"logout",onClick:a.handleLogout,children:"Logout"})})]})}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{id:"login",children:Object(j.jsx)(i.b,{to:"/login",children:"Login"})}),Object(j.jsx)("div",{id:"create-account",children:Object(j.jsx)(i.b,{to:"/register",id:"acc-btn",children:"Create an account"})})]})},a.state={userData:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{id:"header-listing",children:[Object(j.jsx)("div",{className:"logo-listing-sec",children:Object(j.jsx)("div",{className:"logo-listing-circle-listing",children:Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("div",{className:"logo-listing",children:"e!"})})})}),Object(j.jsxs)("div",{className:"login-listing-acc",children:[this.conditionalLogin(),Object(j.jsx)(i.b,{to:"/viewOrder",children:Object(j.jsx)("img",{className:"view-order",src:"https://i.ibb.co/zf3rrJp/cart-73-64.png",alt:"Orders"})})]})]})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://loginapiedu.herokuapp.com/api/auth/userInfo",{method:"GET",headers:{"x-access-token":sessionStorage.getItem("ltk")}}).then((function(e){return e.json()})).then((function(t){e.setState({userData:t})}))}}]),s}(a.Component),m=s(14),b=s.n(m),p="https://edumatoapifordev.herokuapp.com/filter/",O=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).cuisineArray="",a.handleChange=function(e){var t=a.cuisineArray.indexOf(e.target.value);t>-1?(a.cuisineArray=a.cuisineArray.split(""),a.cuisineArray.splice(t,1),a.cuisineArray=a.cuisineArray.join(""),a.setState({cuisinList:a.cuisineArray},(function(){a.setData()}))):(a.cuisineArray=a.cuisineArray.concat(e.target.value),a.setState({cuisinList:a.cuisineArray},(function(){a.setData()})))},a.setData=function(){var e;e=a.cuisineArray.indexOf(0)>-1?"".concat(p).concat(a.props.mealId):"".concat(p).concat(a.props.mealId,"?cuisine=").concat(a.cuisineArray),b.a.get(e).then((function(e){a.props.resPerCuisine(e.data)}))},a.state={cuisinList:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"cuisine-checkbox",children:[Object(j.jsxs)("div",{className:"food-con-type",children:[Object(j.jsx)("input",{type:"checkbox",name:"all",value:"0",id:"all",onClick:this.handleChange}),Object(j.jsx)("label",{htmlFor:"all",children:"All"})]}),Object(j.jsxs)("div",{className:"food-con-type",children:[Object(j.jsx)("input",{type:"checkbox",name:"north-indian",value:"1",id:"north-indian",onClick:this.handleChange}),Object(j.jsx)("label",{htmlFor:"north-indian",children:"North Indian"})]}),Object(j.jsxs)("div",{className:"food-con-type",children:[Object(j.jsx)("input",{type:"checkbox",name:"south-indian",value:"2",id:"south-indian",onClick:this.handleChange}),Object(j.jsx)("label",{htmlFor:"south-indian",children:"South Indian"})]}),Object(j.jsxs)("div",{className:"food-con-type",children:[Object(j.jsx)("input",{type:"checkbox",name:"chinese",value:"3",id:"chinese",onClick:this.handleChange}),Object(j.jsx)("label",{htmlFor:"chinese",children:"Chinese"})]}),Object(j.jsxs)("div",{className:"food-con-type",children:[Object(j.jsx)("input",{type:"checkbox",name:"fast-food",value:"4",id:"fast-food",onClick:this.handleChange}),Object(j.jsx)("label",{htmlFor:"fast-food",children:"Fast Food"})]}),Object(j.jsxs)("div",{className:"food-con-type",children:[Object(j.jsx)("input",{type:"checkbox",name:"street-food",value:"5",id:"street-food",onClick:this.handleChange}),Object(j.jsx)("label",{htmlFor:"street-food",children:"Street Food"})]})]})})}}]),s}(a.Component),x="https://edumatoapifordev.herokuapp.com/filter/",f=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).setData=function(e){var t,s=0,n=0;if("0"==e.target.value)t="".concat(x).concat(a.props.mealId);else if("500"==e.target.value)s=0,n=Number(e.target.value),t="".concat(x).concat(a.props.mealId,"?lcost=").concat(s,"&hcost=").concat(n);else{var c=e.target.value.split("-");s=Number(c[0]),n=Number(c[1]),t="".concat(x).concat(a.props.mealId,"?lcost=").concat(s,"&hcost=").concat(n)}b.a.get(t).then((function(e){e.data?a.props.resPerCuisine(e.data):a.props.resPerCuisine("")}))},a.state={costFilterList:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"cost-radio-box",children:[Object(j.jsxs)("div",{className:"cost",children:[Object(j.jsx)("input",{type:"radio",name:"cost-for-two-per",value:"0",id:"allcost",onClick:this.setData}),Object(j.jsx)("label",{for:"allcost",children:"All"})]}),Object(j.jsxs)("div",{className:"cost",children:[Object(j.jsx)("input",{type:"radio",name:"cost-for-two-per",value:"500",id:"less-than-500",onClick:this.setData}),Object(j.jsx)("label",{for:"less-than-500",children:"Less than \u20b9 500"})]}),Object(j.jsxs)("div",{className:"cost",children:[Object(j.jsx)("input",{type:"radio",name:"cost-for-two-per",value:"500-1000",id:"500-1000",onClick:this.setData}),Object(j.jsx)("label",{for:"500-1000",children:"\u20b9 500 to \u20b9 1000"})]}),Object(j.jsxs)("div",{className:"cost",children:[Object(j.jsx)("input",{type:"radio",name:"cost-for-two-per",value:"1000-1500",id:"1000-1500",onClick:this.setData}),Object(j.jsx)("label",{for:"1000-1500",children:"\u20b9 1000 to \u20b9 1500"})]}),Object(j.jsxs)("div",{className:"cost",children:[Object(j.jsx)("input",{type:"radio",name:"cost-for-two-per",value:"1500-2000",id:"1500-2000",onClick:this.setData}),Object(j.jsx)("label",{for:"1500-2000",children:"\u20b9 1500 to \u20b9 2000"})]})]})})}}]),s}(a.Component),v=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).setData=function(e){var t=Number(e.target.value);b.a.get("".concat("https://edumatoapifordev.herokuapp.com/filter/1?sortkey=").concat(t)).then((function(e){a.props.resPerCuisine(e.data)}))},a.state={costFilterList:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"sort-radio",children:[Object(j.jsx)("input",{type:"radio",name:"price",value:"1",id:"low-to-high",onClick:this.setData}),Object(j.jsx)("label",{for:"low-to-high",children:"Price low to high"})]}),Object(j.jsxs)("div",{className:"sort-radio",children:[Object(j.jsx)("input",{type:"radio",name:"price",value:"-1",id:"high-to-low",onClick:this.setData}),Object(j.jsx)("label",{for:"high-to-low",children:"Price high to low"})]})]})}}]),s}(a.Component),g=(s(72),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).changeInterval=function(e){a.props.setResIndexes(2*e-2,2*e),a.setState({activeNum:e},(function(){1==a.state.activeNum?a.setState({restrictedPrev:!0},(function(){a.setState({restrictedNext:!1})})):a.state.activeNum==a.props.dataLen/2&&a.setState({restrictedNext:!0},(function(){a.setState({restrictedPrev:!1})}))}))},a.previousInterval=function(){a.state.activeNum>1&&a.setState({activeNum:a.state.activeNum-1},(function(){a.props.setResIndexes(2*a.state.activeNum-2,2*a.state.activeNum),1==a.state.activeNum&&a.setState({restrictedPrev:!0},(function(){a.setState({restrictedNext:!1})}))}))},a.nextInterval=function(){a.state.activeNum<a.props.dataLen/2&&a.setState({activeNum:a.state.activeNum+1},(function(){a.props.setResIndexes(2*a.state.activeNum-2,2*a.state.activeNum),a.state.activeNum==a.props.dataLen/2&&a.setState({restrictedNext:!0},(function(){a.setState({restrictedPrev:!1})}))}))},a.renderPageNumbers=function(e){for(var t=[],s=Math.ceil(e/2),n=1;n<=s;n++)t.push(n);return t.map((function(e){var t=e==a.state.activeNum?"active":"";return Object(j.jsx)("li",{className:"".concat(t),onClick:function(){a.changeInterval(e)},children:Object(j.jsx)("h4",{children:e})},e)}))},a.state={activeNum:1,restrictedPrev:!0,restrictedNext:!1},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ul",{className:"pagination-sec",children:[Object(j.jsx)("li",{onClick:this.previousInterval,children:Object(j.jsx)("i",{className:"fas fa-chevron-left"})}),this.renderPageNumbers(this.props.dataLen),Object(j.jsx)("li",{onClick:this.nextInterval,children:Object(j.jsx)("i",{className:"fas fa-chevron-right"})})]})})}}]),s}(a.Component)),N=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).setDataInterval=function(e,t){var s=[];s.push(e),s.push(t-1),a.setState({Indexes:s},(function(){}))},a.renderCuisine=function(e){return e.map((function(e,t){return Object(j.jsx)("h4",{children:e.cuisine_name},t)}))},a.res_info_box=function(e){return e?e.map((function(e,t){if(a.state.Indexes.indexOf(t)>-1)return Object(j.jsxs)("div",{className:"search-result1 search-box",children:[Object(j.jsxs)("div",{className:"search-main-box",children:[Object(j.jsx)("div",{className:"food-img-listing",style:{backgroundImage:"url(".concat(e.restaurant_thumb,")")}}),Object(j.jsxs)("div",{className:"food-hotel",children:[Object(j.jsx)(i.b,{to:"/details/".concat(e.restaurant_id,"?mealId=").concat(a.props.mealId),children:Object(j.jsx)("div",{className:"hotel-name",children:e.restaurant_name})}),Object(j.jsxs)("div",{className:"hotel-add",children:[Object(j.jsx)("div",{className:"fort",children:"Fort"}),Object(j.jsx)("div",{className:"address",children:e.address})]})]})]}),Object(j.jsxs)("div",{className:"search-food-desc",children:[Object(j.jsxs)("div",{className:"cuisines",children:[Object(j.jsx)("div",{className:"cuisines-text",children:"Cuisines"}),Object(j.jsx)("div",{className:"cuisines-val",children:a.renderCuisine(e.cuisines)})]}),Object(j.jsxs)("div",{className:"cost-for-two-per",children:[Object(j.jsx)("div",{className:"cost-for-two-per-text",children:"Cost For Two"}),Object(j.jsxs)("div",{className:"cost-val",children:["\u20b9",e.cost]})]})]})]},t)})):Object(j.jsx)("div",{className:"loader",children:Object(j.jsx)("img",{src:"/images/loading-13.gif"})})},a.state={restaurants:"",Indexes:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsxs)(j.Fragment,{children:[this.res_info_box(this.props.res_list),Object(j.jsx)(g,{dataLen:this.props.res_list.length,setResIndexes:function(t,s){e.setDataInterval(t,s)}})]})}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){this.setDataInterval(0,2)}}]),s}(a.Component),y=(s(73),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).setDataAsPerFilter=function(e){a.setState({restaurantsList:e})},a.state={restaurantsList:"",mealId:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),Object(j.jsxs)("div",{className:"search-content",children:[Object(j.jsx)("div",{className:"search-text",children:"Breakfast Places in Mumbai"}),Object(j.jsxs)("div",{className:"filters-sort",ref:"filtersSort",children:[Object(j.jsx)("h2",{children:"Filters / Sort"}),Object(j.jsx)("i",{class:"fas fa-chevron-down sub-arrow",ref:"subArrow"})]}),Object(j.jsxs)("div",{className:"filter-search-sec",children:[Object(j.jsxs)("div",{className:"filter-sec",ref:"filterSec",children:[Object(j.jsx)("div",{className:"filter-text",children:"Filters"}),Object(j.jsx)("div",{className:"select-loc-text",children:"Select location"}),Object(j.jsx)("div",{className:"location-listing",children:Object(j.jsxs)("select",{name:"location-listing-box",id:"location-listing-search",children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Select location"}),Object(j.jsx)("option",{value:"Delhi",children:"Delhi"}),Object(j.jsx)("option",{value:"Bengaluru",children:"Bengaluru"}),Object(j.jsx)("option",{value:"Mumbai",children:"Mumbai"}),Object(j.jsx)("option",{value:"Pune",children:"Pune"})]})}),Object(j.jsxs)("div",{className:"cuisine",children:[Object(j.jsx)("div",{className:"cuisine-text",children:"Cuisine"}),Object(j.jsx)(O,{mealId:this.state.mealId,resPerCuisine:function(t){e.setDataAsPerFilter(t)}})]}),Object(j.jsxs)("div",{className:"cost-for-two",children:[Object(j.jsx)("div",{className:"cost-for-two-text",children:"Cost For Two"}),Object(j.jsx)(f,{mealId:this.state.mealId,resPerCuisine:function(t){e.setDataAsPerFilter(t)}})]}),Object(j.jsxs)("div",{className:"sort",children:[Object(j.jsx)("div",{className:"sort-text",children:"Sort"}),Object(j.jsx)(v,{mealId:this.state.mealId,resPerCuisine:function(t){e.setDataAsPerFilter(t)}})]})]}),Object(j.jsx)("div",{className:"search-results",children:Object(j.jsx)(N,{res_list:this.state.restaurantsList,mealId:this.props.match.params.mealId})})]})]})]})}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.mealId;this.setState({mealId:t},(function(){fetch("".concat("https://edumatoapifordev.herokuapp.com/filter/").concat(e.state.mealId)).then((function(e){return e.json()})).then((function(t){e.setState({restaurantsList:t})}))})),sessionStorage.setItem("mealId",t),window.scrollTo(0,0),this.props.res_list&&this.setState({restaurants:this.props.res_list});var s=this.refs.filtersSort,a=this.refs.filterSec,n=this.refs.subArrow;s.addEventListener("click",(function(){a.classList.toggle("filter-active"),n.classList.toggle("sub-arrow-active")}))}}]),s}(a.Component)),C=(s(36),function(e){var t=e.filterResClass?"showres":"hideres";return Object(j.jsx)("div",{className:"restaurant-div ".concat(t),children:function(e){var t=e.resdata;if(t)return t.map((function(e){return Object(j.jsxs)("div",{className:"resbox",children:[Object(j.jsx)("div",{className:"img-box",style:{backgroundImage:"url("+e.image_gallery[1]+")"}}),Object(j.jsxs)("div",{className:"res-info",children:[Object(j.jsx)(i.b,{to:"/details/".concat(e.restaurant_id,"?mealId=").concat(e.mealTypes[0].mealtype_id),children:Object(j.jsx)("h2",{className:"resname",children:e.restaurant_name})}),Object(j.jsx)("h4",{className:"resadd",children:e.address})]})]},e.restaurant_id)}))}(e)})}),k=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).renderCity=function(e){if(e)return e.map((function(e){return Object(j.jsx)("option",{value:e.state_id,children:e.state})}))},a.handleCity=function(e){var t=e.target.value;fetch("".concat("https://edumatoapifordev.herokuapp.com/restaurants?stateId=").concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({restaurantData:e,filteredResList:e})}))},a.getResList=function(e){a.setState({keyword:e.target.value},(function(){var e=a.state.restaurantData.filter((function(e){return e.restaurant_name.toLowerCase().indexOf(a.state.keyword.toLowerCase())>-1}));a.setState({filteredResList:e})}))},a.ResListClass=function(){a.setState({filterResClass:!a.state.filterResClass},(function(){console.log(a.state.filterResClass)}))},a.handleLogout=function(){a.setState({userData:""}),sessionStorage.removeItem("ltk"),sessionStorage.removeItem("userData")},a.conditionalLogin=function(){if(a.state.userData.name){var e=a.state.userData,t=[e.name,e.email,e.phone,e.role];return sessionStorage.setItem("useData",t),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h4",{id:"userName",children:["Hi ",a.state.userData.name]}),Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("button",{id:"logout",onClick:a.handleLogout,children:"Logout"})})]})}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{id:"login",children:Object(j.jsx)(i.b,{to:"/login",children:"Login"})}),Object(j.jsx)("div",{id:"create-account",children:Object(j.jsx)(i.b,{to:"/register",id:"acc-btn",children:"Create an account"})})]})},a.state={locationData:"",keyword:"",restaurantData:"",filteredResList:"",filterResClass:!1,userData:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{id:"header",children:[Object(j.jsx)("div",{className:"login-acc",children:this.conditionalLogin()}),Object(j.jsx)("div",{className:"logo-circle",children:Object(j.jsx)("div",{className:"logo",children:"e!"})}),Object(j.jsx)("div",{className:"header-heading",children:"Find the best restaurants, caf\xe9s, and bars"}),Object(j.jsxs)("div",{className:"loc-res-box",children:[Object(j.jsx)("div",{className:"location",onChange:this.handleCity,children:Object(j.jsxs)("select",{name:"location-box",id:"location-search",className:"box",children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Please type a location"}),this.renderCity(this.state.locationData)]})}),Object(j.jsxs)("div",{className:"restaurants",children:[Object(j.jsx)("input",{name:"restaurants-box",id:"restaurants-search",className:"box",placeholder:"Search for restaurants",onInput:this.getResList,onFocus:this.ResListClass}),Object(j.jsx)(C,{resdata:this.state.filteredResList,filterResClass:this.state.filterResClass})]})]})]})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://edumatoapifordev.herokuapp.com/location",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({locationData:t})})),fetch("https://loginapiedu.herokuapp.com/api/auth/userinfo",{method:"GET",headers:{"x-access-token":sessionStorage.getItem("ltk")}}).then((function(e){return e.json()})).then((function(t){e.setState({userData:t})}))}}]),s}(a.Component),S=(s(74),function(e){return Object(j.jsxs)("div",{className:"quick-searches-box",children:[Object(j.jsx)("div",{className:"quick-searches",children:"Quick Searches"}),Object(j.jsx)("div",{className:"discover-text",children:"Discover the restaurants by type of meal"}),Object(j.jsx)("div",{className:"food-box",children:function(e){var t=e.quicksearchdata;if(t)return t.map((function(e){return Object(j.jsx)(i.b,{to:"/list/".concat(e.mealtype_id),children:Object(j.jsxs)("div",{className:"common-food-box",children:[Object(j.jsx)("div",{className:"food-img",style:{backgroundImage:"url(".concat(e.meal_image,")")}}),Object(j.jsxs)("div",{className:"food-desc",children:[Object(j.jsx)("div",{className:"food-type",children:e.mealtype}),Object(j.jsx)("div",{className:"food-type-desc",children:e.content})]})]},e.mealtype_id)})}))}(e)})]})}),w=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state={QuickSearchData:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)(S,{quicksearchdata:this.state.QuickSearchData})})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://edumatoapifordev.herokuapp.com/quicksearch").then((function(e){return e.json()})).then((function(t){e.setState({QuickSearchData:t})}))}}]),s}(a.Component),D=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(k,{}),Object(j.jsx)(w,{})]})},I=s(26),_=s(17),L=(s(75),s(42)),P=s.n(L),F=(s(91),s(92),s(15)),M=(s(93),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e={},t=a.state;e.id=Math.floor(1e5*Math.random()),e.name=t.name,e.email=t.email,e.phone=t.phone,e.restaurantName=a.props.resName,e.amount=a.props.totalPrice,e.address=t.address,e.status=t.status,e.ordersList=a.props.orders,e.status=t.status,console.log(e),fetch("https://edumatoapifordev.herokuapp.com/placeOrder",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(e)}).then(console.log("payment gateway"))},a.payCross=function(){a.props.paynow("")},a.renderContent=function(){return sessionStorage.getItem("userData")?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{method:"POST",action:"https://edupayment.herokuapp.com/paynow",children:[Object(j.jsxs)("div",{className:"info-inner-box",children:[Object(j.jsx)("h1",{className:"res-name",children:a.props.resName}),Object(j.jsx)("img",{src:"https://i.ibb.co/vzTPcc1/rounded-stencil-x.jpg",alt:"x-mark",onClick:a.payCross,className:"pay-cross"}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"name",className:"field",children:"Name"}),Object(j.jsx)("input",{type:"text",id:"name",name:"name",required:!0,value:a.state.name,placeholder:"Enter your name",onChange:a.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"email",className:"field",children:"Email"}),Object(j.jsx)("input",{type:"text",id:"email",required:!0,name:"email",value:a.state.email,placeholder:"Enter your email",onChange:a.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"phone",className:"field",children:"Mobile number"}),Object(j.jsx)("input",{type:"text",id:"phone",name:"phone",value:a.state.phone,placeholder:"Enter your mobile number",onChange:a.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"address",className:"field",children:"Address"}),Object(j.jsx)("textarea",{type:"text",id:"address",required:!0,name:"address",value:a.state.address,placeholder:"Enter your address",onChange:a.handleChange})]}),Object(j.jsx)("input",{type:"hidden",name:"amount",value:a.props.totalPrice}),Object(j.jsx)("input",{type:"hidden",name:"id",value:a.state.id})]}),Object(j.jsxs)("div",{className:"total-box",children:[Object(j.jsxs)("div",{className:"total-price",children:[Object(j.jsx)("h1",{className:"total-text",children:"Total"}),Object(j.jsxs)("h1",{className:"total-val",children:["\u20b9",a.props.totalPrice]})]}),Object(j.jsx)("button",{className:"proceed-btn",type:"submit",onClick:a.handleSubmit,children:"Proceed"})]})]})}):Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:"https://i.ibb.co/vzTPcc1/rounded-stencil-x.jpg",alt:"x-mark",onClick:a.payCross,className:"pay-cross"}),Object(j.jsx)("h1",{style:{margin:"2rem"},children:"Login first to see booking"})]})},a.state={id:Math.floor(1e5*Math.random()),details:"",name:sessionStorage.getItem("userData")?sessionStorage.getItem("userData").split(",")[0]:"",email:sessionStorage.getItem("userData")?sessionStorage.getItem("userData").split(",")[1]:"",phone:sessionStorage.getItem("userData")?sessionStorage.getItem("userData").split(",")[2]:"",address:"",status:"Pending"},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"info-section ".concat(this.props.payClassName),children:[Object(j.jsx)("div",{className:"info-sec-box",children:this.renderContent()}),Object(j.jsx)("div",{className:"pay-overlay"})]})})}}]),s}(a.Component)),R=(s(94),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).menuList=[],a.addMenu=function(e){var t=!1;if(a.menuList.forEach((function(s,n){e.menu_id==s.menu_id&&(t=!0,a.menuList[n].quantity++,a.setState({myOrders:a.menuList},(function(){a.getTotal()})))})),!t){var s={};s.menu_id=e.menu_id,s.menu_image=e.menu_image,s.menu_price=e.menu_price,s.quantity=1,s.menu_name=e.menu_name,a.menuList.push(s),a.setState({myOrders:a.menuList},(function(){a.getTotal()}))}},a.removeMenu=function(e){a.state.myOrders&&(a.menuList.forEach((function(t,s){t.menu_id==e&&(t.quantity>1?a.menuList[s].quantity--:a.menuList.splice(s,1))})),a.setState({myOrders:a.menuList},(function(){a.getTotal()})))},a.renderMenu=function(){if(a.props.restaurantMenu)return a.props.restaurantMenu.map((function(e){return Object(j.jsxs)("div",{className:"menu-box",children:[Object(j.jsxs)("div",{className:"menu-info",children:[Object(j.jsx)("div",{className:"green-box",children:Object(j.jsx)("div",{className:"green-inner-box"})}),Object(j.jsx)("h3",{className:"menu-name",children:e.menu_name}),Object(j.jsxs)("h3",{className:"menu-price",children:["\u20b9",e.menu_price]}),Object(j.jsx)("h4",{className:"menu-desc",children:e.description})]}),Object(j.jsxs)("div",{className:"menu-img",style:{backgroundImage:"url("+e.menu_image+")"},children:[Object(j.jsx)("button",{className:"add",onClick:function(){a.addMenu(e)},children:"+"}),Object(j.jsx)("button",{className:"remove",onClick:function(){a.removeMenu(e.menu_id)},children:"-"})]})]},e.id)}))},a.renderMenuList=function(e){if(e)return e.map((function(e){return Object(j.jsxs)("div",{className:"order-box",children:[Object(j.jsx)("div",{className:"order-box-img",style:{backgroundImage:"url("+e.menu_image+")"}}),Object(j.jsxs)("h3",{style:{color:"black"},children:["x ",e.quantity]})]})}))},a.getTotal=function(){var e=0;a.state.myOrders.forEach((function(t){e+=t.menu_price*t.quantity})),a.setState({totalPrice:e})},a.paynow=function(e){a.setState({payClassName:e})},a.state={myOrders:"",totalPrice:0,payClassName:""},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"proceed-section ".concat(this.props.proceedClassName),children:[Object(j.jsxs)("div",{className:"proceed-sec-box",children:[Object(j.jsxs)("div",{className:"proceed-inner-box",children:[Object(j.jsx)("h1",{className:"res_name",children:this.props.resName}),Object(j.jsx)("img",{src:"https://i.ibb.co/vzTPcc1/rounded-stencil-x.jpg",alt:"x-mark",ref:"cross",className:"cross"}),Object(j.jsx)("div",{className:"order-list",children:this.renderMenuList(this.state.myOrders)}),this.renderMenu()]}),Object(j.jsxs)("div",{className:"total-box",children:[Object(j.jsxs)("div",{className:"total-price",children:[Object(j.jsx)("h1",{className:"total-text",children:"Total"}),Object(j.jsxs)("h1",{className:"total-val",children:["\u20b9",this.state.totalPrice]})]}),Object(j.jsx)("button",{className:"pay-now",onClick:function(){e.paynow("show-pay"),e.props.proceed("")},children:"Pay Now"})]})]}),Object(j.jsx)("div",{className:"proceed-overlay"})]}),Object(j.jsx)(M,{payClassName:this.state.payClassName,paynow:function(t){e.paynow(t)},resName:this.props.resName,totalPrice:this.state.totalPrice,orders:this.state.myOrders})]})}},{key:"componentDidMount",value:function(){var e=this;this.refs.cross.addEventListener("click",(function(){e.props.proceed("")}))}}]),s}(a.Component)),A=(s(95),function(e){e.className,e.style;var t=e.onClick;return Object(j.jsx)("div",{className:"className next-gal",children:Object(j.jsx)("i",{class:"fas fa-chevron-right",style:{color:"white"},onClick:t})})}),T=function(e){e.className,e.style;var t=e.onClick;return Object(j.jsx)("div",{className:"className prev-gal",children:Object(j.jsx)("i",{class:"fas fa-chevron-left",style:{color:"white"},onClick:t})})},E=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).render_restaurant_detail=function(){if(a.props.restaurantDetail)return Object(j.jsxs)("div",{className:"restaurant-details",children:[Object(j.jsx)("div",{className:"restaurant-img",style:{backgroundImage:"url(".concat(a.props.restaurantDetail.restaurant_thumb,")")}}),Object(j.jsx)("h1",{className:"restaurant-name",children:a.props.restaurantDetail.restaurant_name}),Object(j.jsxs)("div",{className:"navigation",children:[Object(j.jsxs)(_.d,{defaultTab:"one",children:[Object(j.jsxs)(_.b,{children:[Object(j.jsx)(_.a,{tabFor:"one",children:Object(j.jsx)("h3",{className:"nav-name",children:"Overview"})}),Object(j.jsx)(_.a,{tabFor:"two",children:Object(j.jsx)("h3",{className:"nav-name",children:"Contact"})})]}),Object(j.jsx)(_.c,{tabId:"one",children:Object(j.jsxs)("div",{className:"overview-box",children:[Object(j.jsx)("div",{className:"about",children:Object(j.jsx)("h3",{className:"about-name",children:"About this place"})}),Object(j.jsxs)("div",{className:"cuisine-box",children:[Object(j.jsx)("h3",{className:"cuisine-text",children:"Cuisine"}),Object(j.jsx)("div",{className:"cuisine-info",children:Object(j.jsxs)("h4",{children:[Object(j.jsxs)("span",{children:[a.props.restaurantDetail.cuisines[0].cuisine_name,","]}),Object(j.jsx)("span",{children:a.props.restaurantDetail.cuisines[1].cuisine_name})]})})]}),Object(j.jsxs)("div",{className:"avg-box",children:[Object(j.jsx)("h3",{className:"avg-text",children:"Average Cost"}),Object(j.jsx)("div",{className:"avg-info",children:Object(j.jsxs)("h4",{children:["\u20b9",a.props.restaurantDetail.cost," for two people (approx.)"]})})]})]})}),Object(j.jsx)(_.c,{tabId:"two",children:Object(j.jsxs)("div",{className:"contact-box",children:[Object(j.jsxs)("div",{className:"phone-nub",children:[Object(j.jsx)("h2",{className:"phone-nob-text",children:"Phone Number"}),Object(j.jsxs)("h2",{className:"act-phone-no",children:["+91 ",a.props.restaurantDetail.contact_number]})]}),Object(j.jsxs)("div",{className:"res-address",children:[Object(j.jsx)("h3",{className:"rest-name",children:a.props.restaurantDetail.restaurant_name}),Object(j.jsx)("h3",{className:"rest-address",children:a.props.restaurantDetail.address})]})]})})]}),Object(j.jsx)("button",{className:"place-order-btn",onClick:function(){a.proceed("show-proceed")},children:"Place Online Order"})]})]})},a.renderGallery=function(){if(a.props.restaurantDetail)return a.props.restaurantDetail.image_gallery.map((function(e){return Object(j.jsx)("div",{className:"img-gal",children:Object(j.jsx)("img",{src:e,alt:"menu image"})})}))},a.proceed=function(e){a.setState({proceedClassName:e},(function(){console.log(a.state.proceedClassName)}))},a.showImageGallery=function(e){a.setState({showImageClass:e})},a.state={restaurant_detail:null,proceedClassName:"",showImageClass:"image-gallery-hide"},a}return Object(l.a)(s,[{key:"render",value:function(){var e=this,t={adaptiveHeight:!1,dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:Object(j.jsx)(A,{}),prevArrow:Object(j.jsx)(T,{})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),Object(j.jsx)(i.b,{to:"/list/".concat(this.props.backResDetails),children:Object(j.jsx)("button",{className:"back",children:"Go Back"})}),this.render_restaurant_detail(),Object(j.jsx)("button",{className:"img-gallery-btn",ref:"imgGalleryBtn",onClick:function(){e.showImageGallery("image-gallery-active")},children:"Click to see Image Gallery"}),Object(j.jsx)(R,{proceedClassName:this.state.proceedClassName,proceed:function(t){e.proceed(t)},restaurantMenu:this.props.restaurantMenu,resName:this.props.restaurantDetail.restaurant_name}),Object(j.jsxs)("div",{className:this.state.showImageClass,children:[Object(j.jsx)("i",{class:"far fa-times-circle image-cross",onClick:function(){e.showImageGallery("image-gallery-hide")}}),Object(j.jsx)("div",{className:"images-box",children:Object(j.jsx)(P.a,Object(I.a)(Object(I.a)({},t),{},{children:this.renderGallery()}))}),Object(j.jsx)("div",{className:"image-overlay"})]})]})}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}}]),s}(a.Component),q=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state={restaurant_detail:"",backRes_id:"",restaurantMenu:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(E,{restaurantDetail:this.state.restaurant_detail,backResDetails:this.state.backRes_id,restaurantMenu:this.state.restaurantMenu})})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.res_id;b.a.get("".concat("https://edumatoapifordev.herokuapp.com/details/").concat(t)).then((function(t){e.setState({restaurant_detail:t.data[0]})})),this.setState({backRes_id:this.props.location.search.split("=")[1]}),b.a.get("".concat("https://edumatoapifordev.herokuapp.com/restaurantMenu/").concat(t)).then((function(t){e.setState({restaurantMenu:t.data})}))}}]),s}(a.Component),G=s(43),B=s.n(G),J=(s(96),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).renderOrder=function(e){return e.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("div",{className:"item-img",style:{backgroundImage:"url("+e.menu_image+")"}})}),Object(j.jsxs)("td",{children:[Object(j.jsx)("h4",{children:e.menu_name}),Object(j.jsxs)("h4",{children:["\u20b9",e.menu_price]})]})]})}))},a.renderOrderItems=function(){if(a.props.orders_list)return a.props.orders_list.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.restaurantName}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.phone}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.address}),Object(j.jsx)("td",{children:a.renderOrder(e.ordersList)}),Object(j.jsxs)("td",{children:["\u20b9",e.amount]}),Object(j.jsx)("td",{children:e.status})]})}))},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("table",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Restaurant Name"}),Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Phone"}),Object(j.jsx)("th",{children:"Email Id"}),Object(j.jsx)("th",{children:"Address"}),Object(j.jsx)("th",{children:"Order Items"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Status"})]}),this.renderOrderItems()]})})}}]),s}(a.Component)),z=(s(97),"https://edumatoapifordev.herokuapp.com/viewOrders/"),Q="",U=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).handlePageChange=function(e){var t=e.selected;a.setState({skip:2*t},(function(){fetch("".concat(z).concat(Q,"?skip=").concat(a.state.skip,"&limit=").concat(2)).then((function(e){return e.json()})).then((function(e){a.setState({ordersList:e})}))}))},a.renderContent=function(){return sessionStorage.getItem("userData")?(Q=sessionStorage.getItem("userData").split(",")[1],Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"orders-text",children:"Your Orders"}),Object(j.jsxs)("div",{className:"orders-box",children:[Object(j.jsx)(J,{orders_list:a.state.ordersList}),Object(j.jsx)(B.a,{previousLabel:Object(j.jsx)("span",{children:"Prev"}),nextLabel:Object(j.jsx)("span",{children:"Next"}),pageCount:a.state.pageCountNub,marginPagesDisplayed:2,onPageChange:a.handlePageChange,containerClassName:"pagination-sec-order",previousLinkClassName:"prevBtn-order",nextLinkClassName:"nextBtn-order",pageClassName:"page-item-order",pageLinkClassName:"page-link-order",activeClassName:"active-order",disabledLinkClassName:"disable-order"})]})]})):Object(j.jsx)("div",{children:Object(j.jsx)("h1",{style:{margin:"2rem"},children:"Login first to see booking"})})},a.state={ordersList:"",skip:0,pageCountNub:0},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),this.renderContent()]})}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){var e=this;fetch("".concat(z).concat(Q)).then((function(e){return e.json()})).then((function(t){e.setState({pageCountNub:Math.ceil(t.length/2)},(function(){fetch("".concat(z).concat(Q,"?skip=").concat(e.state.skip,"&limit=").concat(2)).then((function(e){return e.json()})).then((function(t){e.setState({ordersList:t})}))}))}))}}]),s}(a.Component),H=(s(38),function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){sessionStorage.setItem("userdata",a.state),fetch("https://loginapiedu.herokuapp.com/api/auth/register",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(a.state)}).then(a.props.history.push("/login"))},a.state={name:"",email:"",phone:"",password:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"form_wrapper",children:Object(j.jsxs)("div",{className:"form_container",children:[Object(j.jsx)("h2",{className:"title_container",children:"Register"}),Object(j.jsxs)("div",{className:"form-feilds",children:[Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"name",className:"field",children:"Name"}),Object(j.jsx)("input",{type:"text",id:"name",name:"name",required:!0,value:this.state.name,placeholder:"Enter your name",onChange:this.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"phone",className:"field",children:"Mobile number"}),Object(j.jsx)("input",{type:"text",id:"phone",name:"phone",required:!0,value:this.state.phone,placeholder:"Enter your mobile number",onChange:this.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"email",className:"field",children:"Email"}),Object(j.jsx)("input",{type:"text",id:"email",name:"email",required:!0,value:this.state.email,placeholder:"Enter your email",onChange:this.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"password",className:"field",children:"Password"}),Object(j.jsx)("input",{type:"text",id:"password",name:"password",required:!0,value:this.state.password,placeholder:"Enter Password",onChange:this.handleChange})]})]}),Object(j.jsxs)("div",{className:"btns",children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("button",{className:"cancel",children:"Cancel"})}),Object(j.jsx)("button",{className:"register",type:"submit",onClick:this.handleSubmit,children:"Register"})]})]})})})}}]),s}(a.Component)),Y=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){fetch("https://loginapiedu.herokuapp.com/api/auth/login  ",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(a.state)}).then((function(e){return e.json()})).then((function(e){e.auth?(sessionStorage.setItem("ltk",e.token),a.props.history.push("/")):a.setState({message:e.token})}))},a.state={email:"",password:"",message:""},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"form_wrapper",children:[Object(j.jsx)("h2",{className:this.state.message?"msg":"",children:this.state.message}),Object(j.jsxs)("div",{className:"login-form_container",children:[Object(j.jsx)("h2",{className:"title_container",children:"Login"}),Object(j.jsxs)("div",{className:"form-feilds",children:[Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"email",className:"field",children:"Email"}),Object(j.jsx)("input",{type:"text",id:"email",name:"email",value:this.state.email,placeholder:"Enter your email",onChange:this.handleChange})]}),Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{htmlFor:"password",className:"field",children:"Password"}),Object(j.jsx)("input",{type:"text",id:"password",name:"password",value:this.state.password,placeholder:"Enter Password",onChange:this.handleChange})]})]}),Object(j.jsxs)("div",{className:"btns",children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("button",{className:"cancel",children:"Cancel"})}),Object(j.jsx)("button",{className:"register",type:"submit",onClick:this.handleSubmit,children:"Login"})]})]})]})})}}]),s}(a.Component),K=function(){return Object(j.jsxs)(i.a,{forceRefresh:!0,children:[Object(j.jsx)(r.a,{exact:!0,path:"/",component:D}),Object(j.jsx)(r.a,{path:"/list/:mealId",component:y}),Object(j.jsx)(r.a,{path:"/details/:res_id",component:q}),Object(j.jsx)(r.a,{path:"/viewOrder",component:U}),Object(j.jsx)(r.a,{path:"/register",component:H}),Object(j.jsx)(r.a,{path:"/login",component:Y})]})};c.a.render(Object(j.jsx)(K,{}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.e0bd54ef.chunk.js.map